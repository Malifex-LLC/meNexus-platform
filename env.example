# =============================================================================
# meNexus Synapse Configuration
# =============================================================================
#
# Copy this file to .env and customize your Synapse:
#
#   cp env.example .env
#
# The .env file is gitignored, so your config survives git pull.
# Docker Compose automatically loads .env from the project root.
#
# IMPORTANT: Values with spaces MUST be quoted!
#   Good: SYNAPSE_NAME="My Synapse"
#   Bad:  SYNAPSE_NAME=My Synapse
#
# =============================================================================

# ===========================================
# Docker Image Settings (Production Only)
# ===========================================
# Set the version tag for production images.
# For development (compose.dev.yaml), this is ignored.
MENEXUS_VERSION=0.3.0-alpha.1
GHCR_OWNER=malifex-llc

# ===========================================
# Database
# ===========================================
POSTGRES_USER=postgres
POSTGRES_PASSWORD=example
POSTGRES_DB=menexus_dev
DATABASE_URL=postgres://postgres:example@db:5432/menexus_dev

# ===========================================
# Ports
# ===========================================
AXUM_PORT=3000
LIBP2P_PORT=4000

# ===========================================
# Data Paths (inside container)
# ===========================================
CONFIG_PATH=/data/synapse_config.json
PRIVATE_KEY_PATH=/data/key.path

# ===========================================
# P2P Networking (optional)
# ===========================================
ANNOUNCE=
BOOTSTRAP_LIST=

# ===========================================
# Synapse Identity
# ===========================================
SYNAPSE_NAME="My Synapse"
SYNAPSE_DESCRIPTION="A meNexus community"
SYNAPSE_PUBLIC_URL=http://localhost:3000
SYNAPSE_AVATAR_URL=
SYNAPSE_BANNER_URL=
SYNAPSE_TAGS=community,development

# ===========================================
# Theme
# ===========================================
# Available presets: default, malifex, meNexus_dark
SYNAPSE_THEME_PRESET=default
SYNAPSE_ACCENT_COLOR=
SYNAPSE_DARK_MODE=true

# ===========================================
# Installed Modules
# ===========================================
# Available: posts, chat, activity, members, livestream, creator, files, media, calendar
SYNAPSE_MODULES=posts,chat,members,activity

# ===========================================
# Layout
# ===========================================
# Options: SingleColumn, TwoColumn, ThreeColumn, Fullscreen
SYNAPSE_LAYOUT=TwoColumn

# ===========================================
# Module Placement
# ===========================================
# Assign modules to layout slots. Leave empty for auto-distribution.
#
# TwoColumn:         LEFT (8 cols), RIGHT (4 cols)
# ThreeColumn:       LEFT (3 cols), CENTER (6 cols), RIGHT (3 cols)
# SingleColumn/Full: MAIN (12 cols)
SYNAPSE_LAYOUT_LEFT=posts,chat
SYNAPSE_LAYOUT_RIGHT=members,activity
SYNAPSE_LAYOUT_CENTER=
SYNAPSE_LAYOUT_MAIN=

# ===========================================
# Header
# ===========================================
SYNAPSE_SHOW_HEADER=false

# ===========================================
# Capabilities
# ===========================================
SYNAPSE_FEDERATION=true
SYNAPSE_GUEST_ACCESS=false
SYNAPSE_OPEN_MEMBERSHIP=true
SYNAPSE_REALTIME=true

# =============================================================================
# Module Configuration
# =============================================================================
# Each module can have its own configuration section.
# When you install a module, copy its default settings below and customize.

# ===========================================
# Module: Posts
# ===========================================
# Configure the posts module channels and behavior
MODULE_POSTS_CHANNELS=general,memes,support,config
MODULE_POSTS_DEFAULT_CHANNEL=general
MODULE_POSTS_MAX_POST_LENGTH=5000

# ===========================================
# Production Settings
# ===========================================
# Domain for SSL certificates (production only)
DOMAIN=localhost
ENABLE_SSL=false
LETSENCRYPT_EMAIL=

# ===========================================
# Build Settings (Development Only)
# ===========================================
RUST_LOG=debug
LEPTOS_WASM_BINDGEN_VERSION=0.2.105
LEPTOS_TAILWIND_VERSION=v4.1.5
